<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Lecture 15 :: CSE 2421 TL;DR</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Lecture 15 Video : Storage Class Scope Linkage
Slides : C_Storage_Class_Scope_Linkage
Memory types Kinds of storage common to all programs.
 If you know what kind of storage a part of your program is held in, this is valuable information.
  Stack Heap Registers Disk  Memory Segments Divided into 3 parts. Stack and Heap memory start as distant as possible from one another and grow towards each other." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="/cse2421tldr/posts/lecture-15/" />




<link rel="stylesheet" href="/cse2421tldr/assets/style.css">






<link rel="apple-touch-icon" href="/cse2421tldr/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="/cse2421tldr/img/favicon/orange.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Lecture 15">
<meta property="og:description" content="Storage Class Scope Linkage" />
<meta property="og:url" content="/cse2421tldr/posts/lecture-15/" />
<meta property="og:site_name" content="CSE 2421 TL;DR" />

  
    <meta property="og:image" content="/cse2421tldr/img/favicon/orange.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2021-02-09 02:30:11 -0500 -0500" />












</head>
<body class="orange">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/cse2421tldr/">
  <div class="logo">
    CSE 2421 TL;DR
  </div>
</a>

    </div>
    
  </div>
  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="/cse2421tldr/posts/lecture-15/">Lecture 15</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2021-02-09 [Updated: 2021-02-09]
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="/cse2421tldr/tags/command-line/">command line</a>&nbsp;
    
    #<a href="/cse2421tldr/tags/args/">args</a>&nbsp;
    
    #<a href="/cse2421tldr/tags/c/">c</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h1 id="lecture-15">Lecture 15<a href="#lecture-15" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p><strong>Video</strong> : <a href="https://urldefense.com/v3/__https:/osu.zoom.us/rec/share/U81rLYMxE5KA71BWlJ5GrgMF28_hDPKU7WyGsh3ZVlvElDhmakuuzcpUPFjUurlv.s1ucP0zcTpLrXOh___;!!KGKeukY!jdSMX82dOc5FNhn_5xTZE8dDGji5AzkV9eN9VoGMjMLiU2Eax8LD8rtoKq1YmEzd$">Storage Class Scope Linkage</a></p>
<p><strong>Slides</strong> : <a href="https://osu.instructure.com/courses/95904/files/folder/Class%20slides?preview=29393517">C_Storage_Class_Scope_Linkage</a></p>
<h1 id="memory-types">Memory types<a href="#memory-types" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>Kinds of storage common to all programs.</p>
<blockquote>
<p>If you know what kind of storage a part of your program is held in, this is valuable information.</p>
</blockquote>
<ul>
<li>Stack</li>
<li>Heap</li>
<li>Registers</li>
<li>Disk</li>
</ul>
<h2 id="memory-segments">Memory Segments<a href="#memory-segments" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Divided into 3 parts. Stack and Heap memory start as distant as possible from one another and grow towards each other.</p>
<ul>
<li>Stack
<ul>
<li>Highest memory address, begins (the bottom) at the highest address and grows down (lesser addresses).</li>
</ul>
</li>
<li>Heap
<ul>
<li>Between stack and code, grows upward.</li>
</ul>
</li>
<li>Code
<ul>
<li>Lowest memory addresses, begins at 0. Does not grow and read only.</li>
</ul>
</li>
</ul>
<blockquote>
<p>As long as Stack and Heap don&rsquo;t run into one another, everything will be fine.</p>
</blockquote>
<h2 id="important-terms">Important Terms<a href="#important-terms" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Emphasis on remembering these, expect to be tested. This <code>class</code> has no relationship with classes in c++ or java.</p>
<ul>
<li>Storage class
<ul>
<li>static</li>
<li>automatic (or auto)</li>
<li>register (inside the processor)</li>
<li>external (this is linkage)</li>
</ul>
</li>
<li>Scope
<ul>
<li>block</li>
<li>file</li>
<li>prototype</li>
<li>function (limited use, not covered)</li>
</ul>
</li>
<li>Linkage
<ul>
<li>internal</li>
<li>external</li>
<li>none (no linkage)</li>
</ul>
</li>
</ul>
<h2 id="storage-class">Storage class<a href="#storage-class" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Determines the storage <strong>type</strong> and <strong>lifetime</strong> of a variable and it&rsquo;s <strong>initialization</strong>. Determines if a variable will be initialized by the compiler (loader) or by program code. The default storage class for a variable depends on where it is declared.</p>
<h3 id="static">Static<a href="#static" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>On the heap. Declarations that occur outside of any block. Allocated for as long as the program runs and cannot be stored anywhere else. Initialized to default values by the loader.</p>
<p>Using <code>static</code> outside of a block, modifies the <strong>linkage</strong> from external to internal.</p>
<h3 id="automatic">Automatic<a href="#automatic" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>On the stack. Declared within a block and do not persist outside the block. No default value, must be initialized by code. Function arguments also have automatic storage and the class cannot be changed.</p>
<p>Declarations inside a block can be declared <code>static</code> to modify their default <code>automatic</code> storage class. Direct access to this variable will be lost when the block exits.</p>
<h3 id="register">Register<a href="#register" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>A sub-type of <em>automatic</em>. Use on automatic variables to store variables on the CPU (maybe). Space may not be available on the hardware. Used on frequently accessed variables such as loop indices to improve performance. Other <strong>automatic</strong> constraints apply.</p>
<blockquote>
<p>If your variable is accessed 1,000 times, it probably wont improve it much. If it&rsquo;s accessed a million times, it will improve it a little more.</p>
</blockquote>
<h2 id="scope">Scope<a href="#scope" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Area in memory available to a <code>block</code>, <code>file</code>, and <code>prototype</code> for <strong>Direct</strong> variable access. Direct meaning by the variable name as opposed to using a pointer.</p>
<h3 id="block-scope">Block scope<a href="#block-scope" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>List of statemented inclosed in braces <code>{}</code>. Nested blocks will have independent scope and can have identifiers of the same name as an outer block without conflict because each block has it&rsquo;s own scope.</p>
<blockquote>
<p>Do not obscure variables in a nested scope by re-purposing an existing variable name in an outer scope, this is bad practice.</p>
</blockquote>
<h3 id="file-scope">File scope<a href="#file-scope" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Declarations that occur outside any block. Accessible anywhere in the file after the declaration. Incorrectly referred to in C as &ldquo;Global&rdquo;. Prototype identifiers are file scope. Note this is different from the scope inside the prototype (prototype scope).</p>
<h3 id="prototype-scope">Prototype Scope<a href="#prototype-scope" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Parameter names given in a function prototype.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">function1</span>(<span style="color:#66d9ef">int</span> var1, <span style="color:#66d9ef">int</span> var2);
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">function2</span>(<span style="color:#66d9ef">int</span> var1, <span style="color:#66d9ef">int</span> var2);
</code></pre></div><p>Because scope is unique to the prototype, <code>var1</code> and <code>var2</code> can be reused in different scopes.</p>
<h2 id="linkage">Linkage<a href="#linkage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Given an identifier, if this identifier appears in many scopes, does the identifier refer to the same thing? Mostly dealing with function prototypes that appear in multiple files. Only file scope variables &ldquo;have&rdquo; linkage.</p>
<p>We wish to control what identifiers in our file are and are not in common with identifiers in other files.</p>
<h3 id="none-no-linkage">None (no linkage)<a href="#none-no-linkage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Block and function parameters are always given their own unique scope and can never be linked. Doubly so because only file scope identifiers can participate in linking.</p>
<h3 id="internal-linkage">Internal Linkage<a href="#internal-linkage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Identifiers that should be isolated and not in common with any other file. Identifiers of this type with the same name in separate files are not the same thing.</p>
<h3 id="external-linkage">External Linkage<a href="#external-linkage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Identifiers that are in common with identifiers of the same name in other files.</p>
<h2 id="stack">Stack<a href="#stack" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Place in memory allocated for a function when it is called. This memory is Deallocated when the function returns. Recursive functions eat up Stack space.</p>
<p><code>functions</code> and <code>auto</code> occur here.</p>
<h2 id="heap">Heap<a href="#heap" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Heap space is allocated for the process. The operating system will reclaim this space when the program exits.</p>
<p><code>calloc</code>, <code>malloc</code>, and <code>static</code> occur here.</p>
<h1 id="exercises">Exercises<a href="#exercises" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">char</span> varB <span style="color:#f92672">=</span> <span style="color:#ae81ff">103</span>;

<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func_1</span>() {
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">float</span> varD <span style="color:#f92672">=</span> <span style="color:#ae81ff">6.7</span>;
}

<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> varA <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>;
<span style="color:#66d9ef">void</span> <span style="color:#a6e22e">func_2</span>() {
    <span style="color:#66d9ef">int</span> varC <span style="color:#f92672">=</span> <span style="color:#ae81ff">42</span>;

}
</code></pre></div><ol>
<li>Static, File</li>
<li>none, File</li>
<li>none, Prototype</li>
<li>none, File</li>
<li>Automatic, Block</li>
<li>Automatic Static, Block</li>
<li>Automatic, Block</li>
<li>Register, Block</li>
</ol>
<p>6 is Automatic and Static?</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="/cse2421tldr/posts/lecture-14/">
                <span class="button__icon">←</span>
                <span class="button__text">Lecture 14</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="/cse2421tldr/posts/lecture-13/">
                <span class="button__text">Lecture 13</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2021 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="/cse2421tldr/assets/main.js"></script>
<script src="/cse2421tldr/assets/prism.js"></script>







  
</div>

</body>
</html>
